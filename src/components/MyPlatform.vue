<script setup lang="ts">
import { h, Component } from 'vue'
import { NA } from 'naive-ui'
import {
  Linux,
  Windows,
  Apple,
  Android,
  AppStoreIos,
  Terminal,
  InternetExplorer
} from '@vicons/fa'
import { MyFeaturePanel } from '@libreservice/my-widget'

function generateContent(project: string, name: string, href: string) {
  return [h(NA, { href, target: '_blank' }, project), ' ' + name]
}

const platforms: {
  icon: Component,
  title: string
  content?: () => any
  description?: string
}[] = [
    {
      icon: Linux,
      title: 'Linux',
      content: () => [
        h('div', {}, generateContent('fcitx5-rime', 'å°ä¼é¹…', 'https://github.com/fcitx/fcitx5-rime')),
        h('div', {}, generateContent('ibus-rime', 'ä¸­å·éŸµ', 'https://github.com/rime/ibus-rime'))
      ]
    },
    {
      icon: Windows,
      title: 'Windows',
      content: () => [
        h('div', {}, generateContent('Weasel', 'å°ç‹¼æ¯«', 'https://github.com/rime/weasel')),
        h('div', {}, generateContent('Rabbit', 'ç‰å…”æ¯«', 'https://github.com/amorphobia/rabbit'))
      ]
    },
    {
      icon: Apple,
      title: 'macOS',
      content: () => [
        h('div', {}, generateContent('fcitx5-macos', 'å°ä¼é¹…', 'https://github.com/fcitx-contrib/fcitx5-macos')),
        h('div', {}, generateContent('Squirrel', 'é¼ é¡»ç®¡', 'https://github.com/rime/squirrel'))
      ]
    },
    {
      icon: Android,
      title: 'Android',
      content: () => [
        h('div', {}, generateContent('fcitx5-android', 'å°ä¼é¹…', 'https://github.com/fcitx5-android/fcitx5-android')),
        h('div', {}, generateContent('Trime', 'åŒæ–‡', 'https://github.com/osfans/trime'))
      ]
    },
    {
      icon: AppStoreIos,
      title: 'iOS',
      content: () => generateContent('Hamster', 'ä»“', 'https://github.com/imfuxiao/Hamster')
    },
    {
      icon: Terminal,
      title: 'Command Line',
      content: () => generateContent('librime', 'ä¸­å·éŸµè¾“å…¥æ³•å¼•æ“', 'https://github.com/rime/librime')
    },
    {
      icon: InternetExplorer,
      title: 'Web',
      content: () => [
        h('div', {}, generateContent('My RIME', "æ¢§æ¡è¾“å…¥æ³•", "https://github.com/LibreService/my_rime")), 
        h('div', {}, generateContent('VR Pinyin', "ğŸ‘ˆ ä½ åœ¨è¿™", "https://github.com/zhou9110/vr_pinyin"))
      ]
    }
  ]
</script>

<template>
  <my-feature-panel style="text-align: center; white-space: break-spaces;" title="å–œæ¬¢ RIME å—ï¼Ÿæ‚¨è¿˜å¯ä»¥åœ¨ä»¥ä¸‹ç³»ç»Ÿé‡Œå®‰è£…å¼€æºè¾“å…¥æ³•!
  Love Rime? Install Open Source IME on your platform!"
    :features="platforms" />
</template>
